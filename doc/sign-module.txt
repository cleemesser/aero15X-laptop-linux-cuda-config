https://gist.github.com/Garoe/74a0040f50ae7987885a0bebe5eda1aa

will need to set
export IGNORE_CC_MISMATCH=1


Linux journal has a article on how to do signing
https://www.linuxjournal.com/content/take-control-your-pc-uefi-secure-boot


The ubuntu wiki has info on DKMS with dkms
https://wiki.ubuntu.com/UEFI/SecureBoot/DKMS

General info on building modules:
https://www.kernel.org/doc/html/latest/kbuild/modules.html

https://ubuntu.com/blog/how-to-sign-things-for-secure-boot


openssl req -config ./openssl.cnf \
        -new -x509 -newkey rsa:2048 \
        -nodes -days 36500 -outform DER \
        -keyout "MOK.priv" \
        -out "MOK.der"
openssl x509 -in MOK.der -inform DER -outform PEM -out MOK.pem


```
kmodsign sha512 MOK.priv MOK.der module.ko module.ko 
```
